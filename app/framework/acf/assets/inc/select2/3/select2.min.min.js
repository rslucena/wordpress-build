(function(b){if(typeof b.fn.each2=="undefined"){b.extend(b.fn,{each2:function(c){var h=b([0]),g=-1,a=this.length;while(++g<a&&(h.context=h[0]=this[g])&&c.call(h[0],g,h)!==false){}return this}})}})(jQuery);(function(aa,ar){if(window.Select2!==ar){return}var P,ag,aC,aE,an,ap={x:0,y:0},ai,ah,S={TAB:9,ENTER:13,ESC:27,SPACE:32,LEFT:37,UP:38,RIGHT:39,DOWN:40,SHIFT:16,CTRL:17,ALT:18,PAGE_UP:33,PAGE_DOWN:34,HOME:36,END:35,BACKSPACE:8,DELETE:46,isArrow:function(a){a=a.which?a.which:a;switch(a){case S.LEFT:case S.RIGHT:case S.UP:case S.DOWN:return true}return false},isControl:function(a){var b=a.which;switch(b){case S.SHIFT:case S.CTRL:case S.ALT:return true}if(a.metaKey){return true}return false},isFunctionKey:function(a){a=a.which?a.which:a;return a>=112&&a<=123}},ac="<div class='select2-measure-scrollbar'></div>",aB={"\u24B6":"A","\uFF21":"A","\u00C0":"A","\u00C1":"A","\u00C2":"A","\u1EA6":"A","\u1EA4":"A","\u1EAA":"A","\u1EA8":"A","\u00C3":"A","\u0100":"A","\u0102":"A","\u1EB0":"A","\u1EAE":"A","\u1EB4":"A","\u1EB2":"A","\u0226":"A","\u01E0":"A","\u00C4":"A","\u01DE":"A","\u1EA2":"A","\u00C5":"A","\u01FA":"A","\u01CD":"A","\u0200":"A","\u0202":"A","\u1EA0":"A","\u1EAC":"A","\u1EB6":"A","\u1E00":"A","\u0104":"A","\u023A":"A","\u2C6F":"A","\uA732":"AA","\u00C6":"AE","\u01FC":"AE","\u01E2":"AE","\uA734":"AO","\uA736":"AU","\uA738":"AV","\uA73A":"AV","\uA73C":"AY","\u24B7":"B","\uFF22":"B","\u1E02":"B","\u1E04":"B","\u1E06":"B","\u0243":"B","\u0182":"B","\u0181":"B","\u24B8":"C","\uFF23":"C","\u0106":"C","\u0108":"C","\u010A":"C","\u010C":"C","\u00C7":"C","\u1E08":"C","\u0187":"C","\u023B":"C","\uA73E":"C","\u24B9":"D","\uFF24":"D","\u1E0A":"D","\u010E":"D","\u1E0C":"D","\u1E10":"D","\u1E12":"D","\u1E0E":"D","\u0110":"D","\u018B":"D","\u018A":"D","\u0189":"D","\uA779":"D","\u01F1":"DZ","\u01C4":"DZ","\u01F2":"Dz","\u01C5":"Dz","\u24BA":"E","\uFF25":"E","\u00C8":"E","\u00C9":"E","\u00CA":"E","\u1EC0":"E","\u1EBE":"E","\u1EC4":"E","\u1EC2":"E","\u1EBC":"E","\u0112":"E","\u1E14":"E","\u1E16":"E","\u0114":"E","\u0116":"E","\u00CB":"E","\u1EBA":"E","\u011A":"E","\u0204":"E","\u0206":"E","\u1EB8":"E","\u1EC6":"E","\u0228":"E","\u1E1C":"E","\u0118":"E","\u1E18":"E","\u1E1A":"E","\u0190":"E","\u018E":"E","\u24BB":"F","\uFF26":"F","\u1E1E":"F","\u0191":"F","\uA77B":"F","\u24BC":"G","\uFF27":"G","\u01F4":"G","\u011C":"G","\u1E20":"G","\u011E":"G","\u0120":"G","\u01E6":"G","\u0122":"G","\u01E4":"G","\u0193":"G","\uA7A0":"G","\uA77D":"G","\uA77E":"G","\u24BD":"H","\uFF28":"H","\u0124":"H","\u1E22":"H","\u1E26":"H","\u021E":"H","\u1E24":"H","\u1E28":"H","\u1E2A":"H","\u0126":"H","\u2C67":"H","\u2C75":"H","\uA78D":"H","\u24BE":"I","\uFF29":"I","\u00CC":"I","\u00CD":"I","\u00CE":"I","\u0128":"I","\u012A":"I","\u012C":"I","\u0130":"I","\u00CF":"I","\u1E2E":"I","\u1EC8":"I","\u01CF":"I","\u0208":"I","\u020A":"I","\u1ECA":"I","\u012E":"I","\u1E2C":"I","\u0197":"I","\u24BF":"J","\uFF2A":"J","\u0134":"J","\u0248":"J","\u24C0":"K","\uFF2B":"K","\u1E30":"K","\u01E8":"K","\u1E32":"K","\u0136":"K","\u1E34":"K","\u0198":"K","\u2C69":"K","\uA740":"K","\uA742":"K","\uA744":"K","\uA7A2":"K","\u24C1":"L","\uFF2C":"L","\u013F":"L","\u0139":"L","\u013D":"L","\u1E36":"L","\u1E38":"L","\u013B":"L","\u1E3C":"L","\u1E3A":"L","\u0141":"L","\u023D":"L","\u2C62":"L","\u2C60":"L","\uA748":"L","\uA746":"L","\uA780":"L","\u01C7":"LJ","\u01C8":"Lj","\u24C2":"M","\uFF2D":"M","\u1E3E":"M","\u1E40":"M","\u1E42":"M","\u2C6E":"M","\u019C":"M","\u24C3":"N","\uFF2E":"N","\u01F8":"N","\u0143":"N","\u00D1":"N","\u1E44":"N","\u0147":"N","\u1E46":"N","\u0145":"N","\u1E4A":"N","\u1E48":"N","\u0220":"N","\u019D":"N","\uA790":"N","\uA7A4":"N","\u01CA":"NJ","\u01CB":"Nj","\u24C4":"O","\uFF2F":"O","\u00D2":"O","\u00D3":"O","\u00D4":"O","\u1ED2":"O","\u1ED0":"O","\u1ED6":"O","\u1ED4":"O","\u00D5":"O","\u1E4C":"O","\u022C":"O","\u1E4E":"O","\u014C":"O","\u1E50":"O","\u1E52":"O","\u014E":"O","\u022E":"O","\u0230":"O","\u00D6":"O","\u022A":"O","\u1ECE":"O","\u0150":"O","\u01D1":"O","\u020C":"O","\u020E":"O","\u01A0":"O","\u1EDC":"O","\u1EDA":"O","\u1EE0":"O","\u1EDE":"O","\u1EE2":"O","\u1ECC":"O","\u1ED8":"O","\u01EA":"O","\u01EC":"O","\u00D8":"O","\u01FE":"O","\u0186":"O","\u019F":"O","\uA74A":"O","\uA74C":"O","\u01A2":"OI","\uA74E":"OO","\u0222":"OU","\u24C5":"P","\uFF30":"P","\u1E54":"P","\u1E56":"P","\u01A4":"P","\u2C63":"P","\uA750":"P","\uA752":"P","\uA754":"P","\u24C6":"Q","\uFF31":"Q","\uA756":"Q","\uA758":"Q","\u024A":"Q","\u24C7":"R","\uFF32":"R","\u0154":"R","\u1E58":"R","\u0158":"R","\u0210":"R","\u0212":"R","\u1E5A":"R","\u1E5C":"R","\u0156":"R","\u1E5E":"R","\u024C":"R","\u2C64":"R","\uA75A":"R","\uA7A6":"R","\uA782":"R","\u24C8":"S","\uFF33":"S","\u1E9E":"S","\u015A":"S","\u1E64":"S","\u015C":"S","\u1E60":"S","\u0160":"S","\u1E66":"S","\u1E62":"S","\u1E68":"S","\u0218":"S","\u015E":"S","\u2C7E":"S","\uA7A8":"S","\uA784":"S","\u24C9":"T","\uFF34":"T","\u1E6A":"T","\u0164":"T","\u1E6C":"T","\u021A":"T","\u0162":"T","\u1E70":"T","\u1E6E":"T","\u0166":"T","\u01AC":"T","\u01AE":"T","\u023E":"T","\uA786":"T","\uA728":"TZ","\u24CA":"U","\uFF35":"U","\u00D9":"U","\u00DA":"U","\u00DB":"U","\u0168":"U","\u1E78":"U","\u016A":"U","\u1E7A":"U","\u016C":"U","\u00DC":"U","\u01DB":"U","\u01D7":"U","\u01D5":"U","\u01D9":"U","\u1EE6":"U","\u016E":"U","\u0170":"U","\u01D3":"U","\u0214":"U","\u0216":"U","\u01AF":"U","\u1EEA":"U","\u1EE8":"U","\u1EEE":"U","\u1EEC":"U","\u1EF0":"U","\u1EE4":"U","\u1E72":"U","\u0172":"U","\u1E76":"U","\u1E74":"U","\u0244":"U","\u24CB":"V","\uFF36":"V","\u1E7C":"V","\u1E7E":"V","\u01B2":"V","\uA75E":"V","\u0245":"V","\uA760":"VY","\u24CC":"W","\uFF37":"W","\u1E80":"W","\u1E82":"W","\u0174":"W","\u1E86":"W","\u1E84":"W","\u1E88":"W","\u2C72":"W","\u24CD":"X","\uFF38":"X","\u1E8A":"X","\u1E8C":"X","\u24CE":"Y","\uFF39":"Y","\u1EF2":"Y","\u00DD":"Y","\u0176":"Y","\u1EF8":"Y","\u0232":"Y","\u1E8E":"Y","\u0178":"Y","\u1EF6":"Y","\u1EF4":"Y","\u01B3":"Y","\u024E":"Y","\u1EFE":"Y","\u24CF":"Z","\uFF3A":"Z","\u0179":"Z","\u1E90":"Z","\u017B":"Z","\u017D":"Z","\u1E92":"Z","\u1E94":"Z","\u01B5":"Z","\u0224":"Z","\u2C7F":"Z","\u2C6B":"Z","\uA762":"Z","\u24D0":"a","\uFF41":"a","\u1E9A":"a","\u00E0":"a","\u00E1":"a","\u00E2":"a","\u1EA7":"a","\u1EA5":"a","\u1EAB":"a","\u1EA9":"a","\u00E3":"a","\u0101":"a","\u0103":"a","\u1EB1":"a","\u1EAF":"a","\u1EB5":"a","\u1EB3":"a","\u0227":"a","\u01E1":"a","\u00E4":"a","\u01DF":"a","\u1EA3":"a","\u00E5":"a","\u01FB":"a","\u01CE":"a","\u0201":"a","\u0203":"a","\u1EA1":"a","\u1EAD":"a","\u1EB7":"a","\u1E01":"a","\u0105":"a","\u2C65":"a","\u0250":"a","\uA733":"aa","\u00E6":"ae","\u01FD":"ae","\u01E3":"ae","\uA735":"ao","\uA737":"au","\uA739":"av","\uA73B":"av","\uA73D":"ay","\u24D1":"b","\uFF42":"b","\u1E03":"b","\u1E05":"b","\u1E07":"b","\u0180":"b","\u0183":"b","\u0253":"b","\u24D2":"c","\uFF43":"c","\u0107":"c","\u0109":"c","\u010B":"c","\u010D":"c","\u00E7":"c","\u1E09":"c","\u0188":"c","\u023C":"c","\uA73F":"c","\u2184":"c","\u24D3":"d","\uFF44":"d","\u1E0B":"d","\u010F":"d","\u1E0D":"d","\u1E11":"d","\u1E13":"d","\u1E0F":"d","\u0111":"d","\u018C":"d","\u0256":"d","\u0257":"d","\uA77A":"d","\u01F3":"dz","\u01C6":"dz","\u24D4":"e","\uFF45":"e","\u00E8":"e","\u00E9":"e","\u00EA":"e","\u1EC1":"e","\u1EBF":"e","\u1EC5":"e","\u1EC3":"e","\u1EBD":"e","\u0113":"e","\u1E15":"e","\u1E17":"e","\u0115":"e","\u0117":"e","\u00EB":"e","\u1EBB":"e","\u011B":"e","\u0205":"e","\u0207":"e","\u1EB9":"e","\u1EC7":"e","\u0229":"e","\u1E1D":"e","\u0119":"e","\u1E19":"e","\u1E1B":"e","\u0247":"e","\u025B":"e","\u01DD":"e","\u24D5":"f","\uFF46":"f","\u1E1F":"f","\u0192":"f","\uA77C":"f","\u24D6":"g","\uFF47":"g","\u01F5":"g","\u011D":"g","\u1E21":"g","\u011F":"g","\u0121":"g","\u01E7":"g","\u0123":"g","\u01E5":"g","\u0260":"g","\uA7A1":"g","\u1D79":"g","\uA77F":"g","\u24D7":"h","\uFF48":"h","\u0125":"h","\u1E23":"h","\u1E27":"h","\u021F":"h","\u1E25":"h","\u1E29":"h","\u1E2B":"h","\u1E96":"h","\u0127":"h","\u2C68":"h","\u2C76":"h","\u0265":"h","\u0195":"hv","\u24D8":"i","\uFF49":"i","\u00EC":"i","\u00ED":"i","\u00EE":"i","\u0129":"i","\u012B":"i","\u012D":"i","\u00EF":"i","\u1E2F":"i","\u1EC9":"i","\u01D0":"i","\u0209":"i","\u020B":"i","\u1ECB":"i","\u012F":"i","\u1E2D":"i","\u0268":"i","\u0131":"i","\u24D9":"j","\uFF4A":"j","\u0135":"j","\u01F0":"j","\u0249":"j","\u24DA":"k","\uFF4B":"k","\u1E31":"k","\u01E9":"k","\u1E33":"k","\u0137":"k","\u1E35":"k","\u0199":"k","\u2C6A":"k","\uA741":"k","\uA743":"k","\uA745":"k","\uA7A3":"k","\u24DB":"l","\uFF4C":"l","\u0140":"l","\u013A":"l","\u013E":"l","\u1E37":"l","\u1E39":"l","\u013C":"l","\u1E3D":"l","\u1E3B":"l","\u017F":"l","\u0142":"l","\u019A":"l","\u026B":"l","\u2C61":"l","\uA749":"l","\uA781":"l","\uA747":"l","\u01C9":"lj","\u24DC":"m","\uFF4D":"m","\u1E3F":"m","\u1E41":"m","\u1E43":"m","\u0271":"m","\u026F":"m","\u24DD":"n","\uFF4E":"n","\u01F9":"n","\u0144":"n","\u00F1":"n","\u1E45":"n","\u0148":"n","\u1E47":"n","\u0146":"n","\u1E4B":"n","\u1E49":"n","\u019E":"n","\u0272":"n","\u0149":"n","\uA791":"n","\uA7A5":"n","\u01CC":"nj","\u24DE":"o","\uFF4F":"o","\u00F2":"o","\u00F3":"o","\u00F4":"o","\u1ED3":"o","\u1ED1":"o","\u1ED7":"o","\u1ED5":"o","\u00F5":"o","\u1E4D":"o","\u022D":"o","\u1E4F":"o","\u014D":"o","\u1E51":"o","\u1E53":"o","\u014F":"o","\u022F":"o","\u0231":"o","\u00F6":"o","\u022B":"o","\u1ECF":"o","\u0151":"o","\u01D2":"o","\u020D":"o","\u020F":"o","\u01A1":"o","\u1EDD":"o","\u1EDB":"o","\u1EE1":"o","\u1EDF":"o","\u1EE3":"o","\u1ECD":"o","\u1ED9":"o","\u01EB":"o","\u01ED":"o","\u00F8":"o","\u01FF":"o","\u0254":"o","\uA74B":"o","\uA74D":"o","\u0275":"o","\u01A3":"oi","\u0223":"ou","\uA74F":"oo","\u24DF":"p","\uFF50":"p","\u1E55":"p","\u1E57":"p","\u01A5":"p","\u1D7D":"p","\uA751":"p","\uA753":"p","\uA755":"p","\u24E0":"q","\uFF51":"q","\u024B":"q","\uA757":"q","\uA759":"q","\u24E1":"r","\uFF52":"r","\u0155":"r","\u1E59":"r","\u0159":"r","\u0211":"r","\u0213":"r","\u1E5B":"r","\u1E5D":"r","\u0157":"r","\u1E5F":"r","\u024D":"r","\u027D":"r","\uA75B":"r","\uA7A7":"r","\uA783":"r","\u24E2":"s","\uFF53":"s","\u00DF":"s","\u015B":"s","\u1E65":"s","\u015D":"s","\u1E61":"s","\u0161":"s","\u1E67":"s","\u1E63":"s","\u1E69":"s","\u0219":"s","\u015F":"s","\u023F":"s","\uA7A9":"s","\uA785":"s","\u1E9B":"s","\u24E3":"t","\uFF54":"t","\u1E6B":"t","\u1E97":"t","\u0165":"t","\u1E6D":"t","\u021B":"t","\u0163":"t","\u1E71":"t","\u1E6F":"t","\u0167":"t","\u01AD":"t","\u0288":"t","\u2C66":"t","\uA787":"t","\uA729":"tz","\u24E4":"u","\uFF55":"u","\u00F9":"u","\u00FA":"u","\u00FB":"u","\u0169":"u","\u1E79":"u","\u016B":"u","\u1E7B":"u","\u016D":"u","\u00FC":"u","\u01DC":"u","\u01D8":"u","\u01D6":"u","\u01DA":"u","\u1EE7":"u","\u016F":"u","\u0171":"u","\u01D4":"u","\u0215":"u","\u0217":"u","\u01B0":"u","\u1EEB":"u","\u1EE9":"u","\u1EEF":"u","\u1EED":"u","\u1EF1":"u","\u1EE5":"u","\u1E73":"u","\u0173":"u","\u1E77":"u","\u1E75":"u","\u0289":"u","\u24E5":"v","\uFF56":"v","\u1E7D":"v","\u1E7F":"v","\u028B":"v","\uA75F":"v","\u028C":"v","\uA761":"vy","\u24E6":"w","\uFF57":"w","\u1E81":"w","\u1E83":"w","\u0175":"w","\u1E87":"w","\u1E85":"w","\u1E98":"w","\u1E89":"w","\u2C73":"w","\u24E7":"x","\uFF58":"x","\u1E8B":"x","\u1E8D":"x","\u24E8":"y","\uFF59":"y","\u1EF3":"y","\u00FD":"y","\u0177":"y","\u1EF9":"y","\u0233":"y","\u1E8F":"y","\u00FF":"y","\u1EF7":"y","\u1E99":"y","\u1EF5":"y","\u01B4":"y","\u024F":"y","\u1EFF":"y","\u24E9":"z","\uFF5A":"z","\u017A":"z","\u1E91":"z","\u017C":"z","\u017E":"z","\u1E93":"z","\u1E95":"z","\u01B6":"z","\u0225":"z","\u0240":"z","\u2C6C":"z","\uA763":"z","\u0386":"\u0391","\u0388":"\u0395","\u0389":"\u0397","\u038A":"\u0399","\u03AA":"\u0399","\u038C":"\u039F","\u038E":"\u03A5","\u03AB":"\u03A5","\u038F":"\u03A9","\u03AC":"\u03B1","\u03AD":"\u03B5","\u03AE":"\u03B7","\u03AF":"\u03B9","\u03CA":"\u03B9","\u0390":"\u03B9","\u03CC":"\u03BF","\u03CD":"\u03C5","\u03CB":"\u03C5","\u03B0":"\u03C5","\u03C9":"\u03C9","\u03C2":"\u03C3"};ai=aa(document);aE=(function(){var a=1;return function(){return a++}}());function ao(b){var a=aa(document.createTextNode(""));b.before(a);a.before(b);a.remove()}function aA(a){function b(c){return aB[c]||c}return a.replace(/[^\u0000-\u007E]/g,b)}function am(b,a){var c=0,d=a.length;for(;c<d;c=c+1){if(ak(b,a[c])){return c}}return -1}function Q(){var b=aa(ac);b.appendTo(document.body);var a={width:b.width()-b[0].clientWidth,height:b.height()-b[0].clientHeight};b.remove();return a}function ak(a,b){if(a===b){return true}if(a===ar||b===ar){return false}if(a===null||b===null){return false}if(a.constructor===String){return a+""===b+""}if(b.constructor===String){return b+""===a+""}return false}function aw(d,b,e){var a,c,f;if(d===null||d.length<1){return[]}a=d.split(b);for(c=0,f=a.length;c<f;c=c+1){a[c]=e(a[c])}return a}function ax(a){return a.outerWidth(false)-a.width()}function X(a){var b="keyup-change-value";a.on("keydown",function(){if(aa.data(a,b)===ar){aa.data(a,b,a.val())}});a.on("keyup",function(){var c=aa.data(a,b);if(c!==ar&&a.val()!==c){aa.removeData(a,b);a.trigger("keyup-change")}})}function T(a){a.on("mousemove",function(b){var c=ap;if(c===ar||c.x!==b.pageX||c.y!==b.pageY){aa(b.target).trigger("mousemove-filtered",b)}})}function au(a,c,d){d=d||ar;var b;return function(){var e=arguments;window.clearTimeout(b);b=window.setTimeout(function(){c.apply(d,e)},a)}}function at(c,a){var b=au(c,function(d){a.trigger("scroll-debounced",d)});a.on("scroll",function(d){if(am(d.target,a.get())>=0){b(d)}})}function U(a){if(a[0]===document.activeElement){return}window.setTimeout(function(){var c=a[0],b=a.val().length,d;a.focus();var e=(c.offsetWidth>0||c.offsetHeight>0);if(e&&c===document.activeElement){if(c.setSelectionRange){c.setSelectionRange(b,b)}else{if(c.createTextRange){d=c.createTextRange();d.collapse(false);d.select()}}}},0)}function az(d){d=aa(d)[0];var a=0;var c=0;if("selectionStart" in d){a=d.selectionStart;c=d.selectionEnd-a}else{if("selection" in document){d.focus();var b=document.selection.createRange();c=document.selection.createRange().text.length;b.moveStart("character",-d.value.length);a=b.text.length-c}}return{offset:a,length:c}}function ad(a){a.preventDefault();a.stopPropagation()}function aD(a){a.preventDefault();a.stopImmediatePropagation()}function aq(a){if(!an){var b=a[0].currentStyle||window.getComputedStyle(a[0],null);an=aa(document.createElement("div")).css({position:"absolute",left:"-10000px",top:"-10000px",display:"none",fontSize:b.fontSize,fontFamily:b.fontFamily,fontStyle:b.fontStyle,fontWeight:b.fontWeight,letterSpacing:b.letterSpacing,textTransform:b.textTransform,whiteSpace:"nowrap"});an.attr("class","select2-sizer");aa(document.body).append(an)}an.text(a.val());return an.width()}function av(e,a,f){var c,b=[],d;c=aa.trim(e.attr("class"));if(c){c=""+c;aa(c.split(/\s+/)).each2(function(){if(this.indexOf("select2-")===0){b.push(this)}})}c=aa.trim(a.attr("class"));if(c){c=""+c;aa(c.split(/\s+/)).each2(function(){if(this.indexOf("select2-")!==0){d=f(this);if(d){b.push(d)}}})}e.attr("class",b.join(" "))}function aj(a,b,d,f){var c=aA(a.toUpperCase()).indexOf(aA(b.toUpperCase())),e=b.length;if(c<0){d.push(f(a));return}d.push(f(a.substring(0,c)));d.push("<span class='select2-match'>");d.push(f(a.substring(c,c+e)));d.push("</span>");d.push(f(a.substring(c+e,a.length)))}function W(b){var a={"\\":"&#92;","&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#47;"};return String(b).replace(/[&<>"'\/\\]/g,function(c){return a[c]})}function Z(e){var b,d=null,a=e.quietMillis||100,c=e.url,f=this;return function(g){window.clearTimeout(b);b=window.setTimeout(function(){var k=e.data,l=c,j=e.transport||aa.fn.select2.ajaxDefaults.transport,h={type:e.type||"GET",cache:e.cache||false,jsonpCallback:e.jsonpCallback||ar,dataType:e.dataType||"json"},i=aa.extend({},aa.fn.select2.ajaxDefaults.params,h);k=k?k.call(f,g.term,g.page,g.context):null;l=(typeof l==="function")?l.call(f,g.term,g.page,g.context):l;if(d&&typeof d.abort==="function"){d.abort()}if(e.params){if(aa.isFunction(e.params)){aa.extend(i,e.params.call(f))}else{aa.extend(i,e.params)}}aa.extend(i,{url:l,dataType:e.dataType,data:k,success:function(m){var n=e.results(m,g.page,g);g.callback(n)},error:function(o,m,n){var p={hasError:true,jqXHR:o,textStatus:m,errorThrown:n};g.callback(p)}});d=j.call(f,i)},a)}}function V(e){var b=e,c,d,a=function(g){return""+g.text};if(aa.isArray(b)){d=b;b={results:d}}if(aa.isFunction(b)===false){d=b;b=function(){return d}}var f=b();if(f.text){a=f.text;if(!aa.isFunction(a)){c=f.text;a=function(g){return g[c]}}}return function(j){var g=j.term,h={results:[]},i;if(g===""){j.callback(b());return}i=function(n,k){var l,m;n=n[0];if(n.children){l={};for(m in n){if(n.hasOwnProperty(m)){l[m]=n[m]}}l.children=[];aa(n.children).each2(function(p,o){i(o,l.children)});if(l.children.length||j.matcher(g,a(l),n)){k.push(l)}}else{if(j.matcher(g,a(n),n)){k.push(n)}}};aa(b().results).each2(function(l,k){i(k,h.results)});j.callback(h)}}function ae(a){var b=aa.isFunction(a);return function(c){var d=c.term,e={results:[]};var f=b?a(c):a;if(aa.isArray(f)){aa(f).each(function(){var h=this.text!==ar,g=h?this.text:this;if(d===""||c.matcher(d,g)){e.results.push(h?this:{id:this,text:this})}});c.callback(e)}}}function af(b,a){if(aa.isFunction(b)){return true}if(!b){return false}if(typeof(b)==="string"){return true}throw new Error(a+" must be a string, function, or falsy value")}function ab(a,b){if(aa.isFunction(a)){var c=Array.prototype.slice.call(arguments,2);return a.apply(b,c)}return a}function al(b){var a=0;aa.each(b,function(d,c){if(c.children){a+=al(c.children)}else{a++}});return a}function ay(c,b,e,k){var j=c,a=false,h,d,g,i,f;if(!k.createSearchChoice||!k.tokenSeparators||k.tokenSeparators.length<1){return ar}while(true){d=-1;for(g=0,i=k.tokenSeparators.length;g<i;g++){f=k.tokenSeparators[g];d=c.indexOf(f);if(d>=0){break}}if(d<0){break}h=c.substring(0,d);c=c.substring(d+f.length);if(h.length>0){h=k.createSearchChoice.call(this,h,b);if(h!==ar&&h!==null&&k.id(h)!==ar&&k.id(h)!==null){a=false;for(g=0,i=b.length;g<i;g++){if(ak(k.id(h),k.id(b[g]))){a=true;break}}if(!a){e(h)}}}}if(j!==c){return c}}function Y(){var a=this;aa.each(arguments,function(b,c){a[c].remove();a[c]=null})}function R(c,b){var a=function(){};a.prototype=new c;a.prototype.constructor=a;a.prototype.parent=c.prototype;a.prototype=aa.extend(a.prototype,b);return a}P=R(Object,{bind:function(a){var b=this;return function(){a.apply(b,arguments)}},init:function(b){var d,e,a=".select2-results";this.opts=b=this.prepareOpts(b);this.id=b.id;if(b.element.data("select2")!==ar&&b.element.data("select2")!==null){b.element.data("select2").destroy()}this.container=this.createContainer();this.liveRegion=aa(".select2-hidden-accessible");if(this.liveRegion.length==0){this.liveRegion=aa("<span>",{role:"status","aria-live":"polite"}).addClass("select2-hidden-accessible").appendTo(document.body)}this.containerId="s2id_"+(b.element.attr("id")||"autogen"+aE());this.containerEventName=this.containerId.replace(/([.])/g,"_").replace(/([;&,\-\.\+\*\~':"\!\^#$%@\[\]\(\)=>\|])/g,"\\$1");this.container.attr("id",this.containerId);this.container.attr("title",b.element.attr("title"));this.body=aa(document.body);av(this.container,this.opts.element,this.opts.adaptContainerCssClass);this.container.attr("style",b.element.attr("style"));this.container.css(ab(b.containerCss,this.opts.element));this.container.addClass(ab(b.containerCssClass,this.opts.element));this.elementTabIndex=this.opts.element.attr("tabindex");this.opts.element.data("select2",this).attr("tabindex","-1").before(this.container).on("click.select2",ad);this.container.data("select2",this);this.dropdown=this.container.find(".select2-drop");av(this.dropdown,this.opts.element,this.opts.adaptDropdownCssClass);this.dropdown.addClass(ab(b.dropdownCssClass,this.opts.element));this.dropdown.data("select2",this);this.dropdown.on("click",ad);this.results=d=this.container.find(a);this.search=e=this.container.find("input.select2-input");this.queryCount=0;this.resultsPage=0;this.context=null;this.initContainer();this.container.on("click",ad);T(this.results);this.dropdown.on("mousemove-filtered",a,this.bind(this.highlightUnderEvent));this.dropdown.on("touchstart touchmove touchend",a,this.bind(function(g){this._touchEvent=true;this.highlightUnderEvent(g)}));this.dropdown.on("touchmove",a,this.bind(this.touchMoved));this.dropdown.on("touchstart touchend",a,this.bind(this.clearTouchMoved));this.dropdown.on("click",this.bind(function(g){if(this._touchEvent){this._touchEvent=false;this.selectHighlighted()}}));at(80,this.results);this.dropdown.on("scroll-debounced",a,this.bind(this.loadMoreIfNeeded));aa(this.container).on("change",".select2-input",function(g){g.stopPropagation()});aa(this.dropdown).on("change",".select2-input",function(g){g.stopPropagation()});if(aa.fn.mousewheel){d.mousewheel(function(j,i,g,h){var k=d.scrollTop();if(h>0&&k-h<=0){d.scrollTop(0);ad(j)}else{if(h<0&&d.get(0).scrollHeight-d.scrollTop()+h<=d.height()){d.scrollTop(d.get(0).scrollHeight-d.height());ad(j)}}})}X(e);e.on("keyup-change input paste",this.bind(this.updateResults));e.on("focus",function(){e.addClass("select2-focused")});e.on("blur",function(){e.removeClass("select2-focused")});this.dropdown.on("mouseup",a,this.bind(function(g){if(aa(g.target).closest(".select2-result-selectable").length>0){this.highlightUnderEvent(g);this.selectHighlighted(g)}}));this.dropdown.on("click mouseup mousedown touchstart touchend focusin",function(g){g.stopPropagation()});this.nextSearchTerm=ar;if(aa.isFunction(this.opts.initSelection)){this.initSelection();this.monitorSource()}if(b.maximumInputLength!==null){this.search.attr("maxlength",b.maximumInputLength)}var c=b.element.prop("disabled");if(c===ar){c=false}this.enable(!c);var f=b.element.prop("readonly");if(f===ar){f=false}this.readonly(f);ah=ah||Q();this.autofocus=b.element.prop("autofocus");b.element.prop("autofocus",false);if(this.autofocus){this.focus()}this.search.attr("placeholder",b.searchInputPlaceholder)},destroy:function(){var a=this.opts.element,b=a.data("select2"),c=this;this.close();if(a.length&&a[0].detachEvent&&c._sync){a.each(function(){if(c._sync){this.detachEvent("onpropertychange",c._sync)}})}if(this.propertyObserver){this.propertyObserver.disconnect();this.propertyObserver=null}this._sync=null;if(b!==ar){b.container.remove();b.liveRegion.remove();b.dropdown.remove();a.show().removeData("select2").off(".select2").prop("autofocus",this.autofocus||false);if(this.elementTabIndex){a.attr({tabindex:this.elementTabIndex})}else{a.removeAttr("tabindex")}a.show()}Y.call(this,"container","liveRegion","dropdown","results","search")},optionToData:function(a){if(a.is("option")){return{id:a.prop("value"),text:a.text(),element:a.get(),css:a.attr("class"),disabled:a.prop("disabled"),locked:ak(a.attr("locked"),"locked")||ak(a.data("locked"),true)}}else{if(a.is("optgroup")){return{text:a.attr("label"),children:[],element:a.get(),css:a.attr("class")}}}},prepareOpts:function(a){var c,e,f,b,d=this;c=a.element;if(c.get(0).tagName.toLowerCase()==="select"){this.select=e=a.element}if(e){aa.each(["id","multiple","ajax","query","createSearchChoice","initSelection","data","tags"],function(){if(this in a){throw new Error("Option '"+this+"' is not allowed for Select2 when attached to a <select> element.")}})}a=aa.extend({},{populateResults:function(g,l,j){var k,i=this.opts.id,h=this.liveRegion;k=function(s,y,t){var r,w,m,p,v,n,x,o,q,u;s=a.sortResults(s,y,j);var z=[];for(r=0,w=s.length;r<w;r=r+1){m=s[r];v=(m.disabled===true);p=(!v)&&(i(m)!==ar);n=m.children&&m.children.length>0;x=aa("<li></li>");x.addClass("select2-results-dept-"+t);x.addClass("select2-result");x.addClass(p?"select2-result-selectable":"select2-result-unselectable");if(v){x.addClass("select2-disabled")}if(n){x.addClass("select2-result-with-children")}x.addClass(d.opts.formatResultCssClass(m));x.attr("role","presentation");o=aa(document.createElement("div"));o.addClass("select2-result-label");o.attr("id","select2-result-label-"+aE());o.attr("role","option");u=a.formatResult(m,o,j,d.opts.escapeMarkup);if(u!==ar){o.html(u);x.append(o)}if(n){q=aa("<ul></ul>");q.addClass("select2-result-sub");k(m.children,q,t+1);x.append(q)}x.data("select2-data",m);z.push(x[0])}y.append(z);h.text(a.formatMatches(s.length))};k(l,g,0)}},aa.fn.select2.defaults,a);if(typeof(a.id)!=="function"){f=a.id;a.id=function(g){return g[f]}}if(aa.isArray(a.element.data("select2Tags"))){if("tags" in a){throw"tags specified as both an attribute 'data-select2-tags' and in options of Select2 "+a.element.attr("id")}a.tags=a.element.data("select2Tags")}if(e){a.query=this.bind(function(j){var k={results:[],more:false},l=j.term,g,h,i;i=function(o,m){var n;if(o.is("option")){if(j.matcher(l,o.text(),o)){m.push(d.optionToData(o))}}else{if(o.is("optgroup")){n=d.optionToData(o);o.children().each2(function(q,p){i(p,n.children)});if(n.children.length>0){m.push(n)}}}};g=c.children();if(this.getPlaceholder()!==ar&&g.length>0){h=this.getPlaceholderOption();if(h){g=g.not(h)}}g.each2(function(n,m){i(m,k.results)});j.callback(k)});a.id=function(g){return g.id}}else{if(!("query" in a)){if("ajax" in a){b=a.element.data("ajax-url");if(b&&b.length>0){a.ajax.url=b}a.query=Z.call(a.element,a.ajax)}else{if("data" in a){a.query=V(a.data)}else{if("tags" in a){a.query=ae(a.tags);if(a.createSearchChoice===ar){a.createSearchChoice=function(g){return{id:aa.trim(g),text:aa.trim(g)}}}if(a.initSelection===ar){a.initSelection=function(h,i){var g=[];aa(aw(h.val(),a.separator,a.transformVal)).each(function(){var j={id:this,text:this},k=a.tags;if(aa.isFunction(k)){k=k()}aa(k).each(function(){if(ak(this.id,j.id)){j=this;return false}});g.push(j)});i(g)}}}}}}}if(typeof(a.query)!=="function"){throw"query function not defined for Select2 "+a.element.attr("id")}if(a.createSearchChoicePosition==="top"){a.createSearchChoicePosition=function(g,h){g.unshift(h)}}else{if(a.createSearchChoicePosition==="bottom"){a.createSearchChoicePosition=function(g,h){g.push(h)}}else{if(typeof(a.createSearchChoicePosition)!=="function"){throw"invalid createSearchChoicePosition option must be 'top', 'bottom' or a custom function"}}}return a},monitorSource:function(){var a=this.opts.element,b,c=this;a.on("change.select2",this.bind(function(d){if(this.opts.element.data("select2-change-triggered")!==true){this.initSelection()}}));this._sync=this.bind(function(){var d=a.prop("disabled");if(d===ar){d=false}this.enable(!d);var e=a.prop("readonly");if(e===ar){e=false}this.readonly(e);if(this.container){av(this.container,this.opts.element,this.opts.adaptContainerCssClass);this.container.addClass(ab(this.opts.containerCssClass,this.opts.element))}if(this.dropdown){av(this.dropdown,this.opts.element,this.opts.adaptDropdownCssClass);this.dropdown.addClass(ab(this.opts.dropdownCssClass,this.opts.element))}});if(a.length&&a[0].attachEvent){a.each(function(){this.attachEvent("onpropertychange",c._sync)})}b=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver;if(b!==ar){if(this.propertyObserver){delete this.propertyObserver;this.propertyObserver=null}this.propertyObserver=new b(function(d){aa.each(d,c._sync)});this.propertyObserver.observe(a.get(0),{attributes:true,subtree:false})}},triggerSelect:function(a){var b=aa.Event("select2-selecting",{val:this.id(a),object:a,choice:a});this.opts.element.trigger(b);return !b.isDefaultPrevented()},triggerChange:function(a){a=a||{};a=aa.extend({},a,{type:"change",val:this.val()});this.opts.element.data("select2-change-triggered",true);this.opts.element.trigger(a);this.opts.element.data("select2-change-triggered",false);this.opts.element.click();if(this.opts.blurOnChange){this.opts.element.blur()}},isInterfaceEnabled:function(){return this.enabledInterface===true},enableInterface:function(){var b=this._enabled&&!this._readonly,a=!b;if(b===this.enabledInterface){return false}this.container.toggleClass("select2-container-disabled",a);this.close();this.enabledInterface=b;return true},enable:function(a){if(a===ar){a=true}if(this._enabled===a){return}this._enabled=a;this.opts.element.prop("disabled",!a);this.enableInterface()},disable:function(){this.enable(false)},readonly:function(a){if(a===ar){a=false}if(this._readonly===a){return}this._readonly=a;this.opts.element.prop("readonly",a);this.enableInterface()},opened:function(){return(this.container)?this.container.hasClass("select2-dropdown-open"):false},positionDropdown:function(){var i=this.dropdown,x=this.container,f=x.offset(),t=x.outerHeight(false),s=x.outerWidth(false),a=i.outerHeight(false),v=aa(window),n=v.width(),c=v.height(),j=v.scrollLeft()+n,o=v.scrollTop()+c,h=f.top+t,q=f.left,k=h+a<=o,d=(f.top-a)>=v.scrollTop(),w=i.outerWidth(false),l=function(){return q+w<=j},r=function(){return f.left+j+x.outerWidth(false)>w},m=i.hasClass("select2-drop-above"),e,p,g,b,u;if(m){p=true;if(!d&&k){g=true;p=false}}else{p=false;if(!k&&d){g=true;p=true}}if(g){i.hide();f=this.container.offset();t=this.container.outerHeight(false);s=this.container.outerWidth(false);a=i.outerHeight(false);j=v.scrollLeft()+n;o=v.scrollTop()+c;h=f.top+t;q=f.left;w=i.outerWidth(false);i.show();this.focusSearch()}if(this.opts.dropdownAutoWidth){u=aa(".select2-results",i)[0];i.addClass("select2-drop-auto-width");i.css("width","");w=i.outerWidth(false)+(u.scrollHeight===u.clientHeight?0:ah.width);w>s?s=w:w=s;a=i.outerHeight(false)}else{this.container.removeClass("select2-drop-auto-width")}if(this.body.css("position")!=="static"){e=this.body.offset();h-=e.top;q-=e.left}if(!l()&&r()){q=f.left+this.container.outerWidth(false)-w}b={left:q,width:s};if(p){b.top=f.top-a;b.bottom="auto";this.container.addClass("select2-drop-above");i.addClass("select2-drop-above")}else{b.top=h;b.bottom="auto";this.container.removeClass("select2-drop-above");i.removeClass("select2-drop-above")}b=aa.extend(b,ab(this.opts.dropdownCss,this.opts.element));i.css(b)},shouldOpen:function(){var a;if(this.opened()){return false}if(this._enabled===false||this._readonly===true){return false}a=aa.Event("select2-opening");this.opts.element.trigger(a);return !a.isDefaultPrevented()},clearDropdownAlignmentPreference:function(){this.container.removeClass("select2-drop-above");this.dropdown.removeClass("select2-drop-above")},open:function(){if(!this.shouldOpen()){return false}this.opening();ai.on("mousemove.select2Event",function(a){ap.x=a.pageX;ap.y=a.pageY});return true},opening:function(){var a=this.containerEventName,f="scroll."+a,c="resize."+a,d="orientationchange."+a,e;this.container.addClass("select2-dropdown-open").addClass("select2-container-active");this.clearDropdownAlignmentPreference();if(this.dropdown[0]!==this.body.children().last()[0]){this.dropdown.detach().appendTo(this.body)}e=aa("#select2-drop-mask");if(e.length===0){e=aa(document.createElement("div"));e.attr("id","select2-drop-mask").attr("class","select2-drop-mask");e.hide();e.appendTo(this.body);e.on("mousedown touchstart click",function(g){ao(e);var i=aa("#select2-drop"),h;if(i.length>0){h=i.data("select2");if(h.opts.selectOnBlur){h.selectHighlighted({noFocus:true})}h.close();g.preventDefault();g.stopPropagation()}})}if(this.dropdown.prev()[0]!==e[0]){this.dropdown.before(e)}aa("#select2-drop").removeAttr("id");this.dropdown.attr("id","select2-drop");e.show();this.positionDropdown();this.dropdown.show();this.positionDropdown();this.dropdown.addClass("select2-drop-active");var b=this;this.container.parents().add(window).each(function(){aa(this).on(c+" "+f+" "+d,function(g){if(b.opened()){b.positionDropdown()}})})},close:function(){if(!this.opened()){return}var a=this.containerEventName,d="scroll."+a,b="resize."+a,c="orientationchange."+a;this.container.parents().add(window).each(function(){aa(this).off(d).off(b).off(c)});this.clearDropdownAlignmentPreference();aa("#select2-drop-mask").hide();this.dropdown.removeAttr("id");this.dropdown.hide();this.container.removeClass("select2-dropdown-open").removeClass("select2-container-active");this.results.empty();ai.off("mousemove.select2Event");this.clearSearch();this.search.removeClass("select2-active");this.opts.element.trigger(aa.Event("select2-close"))},externalSearch:function(a){this.open();this.search.val(a);this.updateResults(false)},clearSearch:function(){},getMaximumSelectionSize:function(){return ab(this.opts.maximumSelectionSize,this.opts.element)},ensureHighlightVisible:function(){var f=this.results,g,c,h,d,i,a,b,e;c=this.highlight();if(c<0){return}if(c==0){f.scrollTop(0);return}g=this.findHighlightableChoices().find(".select2-result-label");h=aa(g[c]);e=(h.offset()||{}).top||0;d=e+h.outerHeight(true);if(c===g.length-1){b=f.find("li.select2-more-results");if(b.length>0){d=b.offset().top+b.outerHeight(true)}}i=f.offset().top+f.outerHeight(false);if(d>i){f.scrollTop(f.scrollTop()+(d-i))}a=e-f.offset().top;if(a<0&&h.css("display")!="none"){f.scrollTop(f.scrollTop()+a)}},findHighlightableChoices:function(){return this.results.find(".select2-result-selectable:not(.select2-disabled):not(.select2-selected)")},moveHighlight:function(a){var b=this.findHighlightableChoices(),c=this.highlight();while(c>-1&&c<b.length){c+=a;var d=aa(b[c]);if(d.hasClass("select2-result-selectable")&&!d.hasClass("select2-disabled")&&!d.hasClass("select2-selected")){this.highlight(c);break}}},highlight:function(c){var a=this.findHighlightableChoices(),d,b;if(arguments.length===0){return am(a.filter(".select2-highlighted")[0],a.get())}if(c>=a.length){c=a.length-1}if(c<0){c=0}this.removeHighlight();d=aa(a[c]);d.addClass("select2-highlighted");this.search.attr("aria-activedescendant",d.find(".select2-result-label").attr("id"));this.ensureHighlightVisible();this.liveRegion.text(d.text());b=d.data("select2-data");if(b){this.opts.element.trigger({type:"select2-highlight",val:this.id(b),choice:b})}},removeHighlight:function(){this.results.find(".select2-highlighted").removeClass("select2-highlighted")},touchMoved:function(){this._touchMoved=true},clearTouchMoved:function(){this._touchMoved=false},countSelectableResults:function(){return this.findHighlightableChoices().length},highlightUnderEvent:function(b){var c=aa(b.target).closest(".select2-result-selectable");if(c.length>0&&!c.is(".select2-highlighted")){var a=this.findHighlightableChoices();this.highlight(a.index(c))}else{if(c.length==0){this.removeHighlight()}}},loadMoreIfNeeded:function(){var c=this.results,d=c.find("li.select2-more-results"),a,b=this.resultsPage+1,g=this,e=this.search.val(),f=this.context;if(d.length===0){return}a=d.offset().top-c.offset().top-c.height();if(a<=this.opts.loadMorePadding){d.addClass("select2-active");this.opts.query({element:this.opts.element,term:e,page:b,context:f,matcher:this.opts.matcher,callback:this.bind(function(h){if(!g.opened()){return}g.opts.populateResults.call(this,c,h.results,{term:e,page:b,context:f});g.postprocessResults(h,false,false);if(h.more===true){d.detach().appendTo(c).html(g.opts.escapeMarkup(ab(g.opts.formatLoadMore,g.opts.element,b+1)));window.setTimeout(function(){g.loadMoreIfNeeded()},10)}else{d.remove()}g.positionDropdown();g.resultsPage=b;g.context=h.context;this.opts.element.trigger({type:"select2-loaded",items:h})})})}},tokenize:function(){},updateResults:function(d){var m=this.search,f=this.results,l=this.opts,g,a=this,c,h=m.val(),j=aa.data(this.container,"select2-last-term"),b;if(d!==true&&j&&ak(h,j)){return}aa.data(this.container,"select2-last-term",h);if(d!==true&&(this.showSearchInput===false||!this.opened())){return}function e(){m.removeClass("select2-active");a.positionDropdown();if(f.find(".select2-no-results,.select2-selection-limit,.select2-searching").length){a.liveRegion.text(f.text())}else{a.liveRegion.text(a.opts.formatMatches(f.find('.select2-result-selectable:not(".select2-selected")').length))}}function k(n){f.html(n);e()}b=++this.queryCount;var i=this.getMaximumSelectionSize();if(i>=1){g=this.data();if(aa.isArray(g)&&g.length>=i&&af(l.formatSelectionTooBig,"formatSelectionTooBig")){k("<li class='select2-selection-limit'>"+ab(l.formatSelectionTooBig,l.element,i)+"</li>");return}}if(m.val().length<l.minimumInputLength){if(af(l.formatInputTooShort,"formatInputTooShort")){k("<li class='select2-no-results'>"+ab(l.formatInputTooShort,l.element,m.val(),l.minimumInputLength)+"</li>")}else{k("")}if(d&&this.showSearch){this.showSearch(true)}return}if(l.maximumInputLength&&m.val().length>l.maximumInputLength){if(af(l.formatInputTooLong,"formatInputTooLong")){k("<li class='select2-no-results'>"+ab(l.formatInputTooLong,l.element,m.val(),l.maximumInputLength)+"</li>")}else{k("")}return}if(l.formatSearching&&this.findHighlightableChoices().length===0){k("<li class='select2-searching'>"+ab(l.formatSearching,l.element)+"</li>")}m.addClass("select2-active");this.removeHighlight();c=this.tokenize();if(c!=ar&&c!=null){m.val(c)}this.resultsPage=1;l.query({element:l.element,term:m.val(),page:this.resultsPage,context:null,matcher:l.matcher,callback:this.bind(function(n){var o;if(b!=this.queryCount){return}if(!this.opened()){this.search.removeClass("select2-active");return}if(n.hasError!==ar&&af(l.formatAjaxError,"formatAjaxError")){k("<li class='select2-ajax-error'>"+ab(l.formatAjaxError,l.element,n.jqXHR,n.textStatus,n.errorThrown)+"</li>");return}this.context=(n.context===ar)?null:n.context;if(this.opts.createSearchChoice&&m.val()!==""){o=this.opts.createSearchChoice.call(a,m.val(),n.results);if(o!==ar&&o!==null&&a.id(o)!==ar&&a.id(o)!==null){if(aa(n.results).filter(function(){return ak(a.id(this),a.id(o))}).length===0){this.opts.createSearchChoicePosition(n.results,o)}}}if(n.results.length===0&&af(l.formatNoMatches,"formatNoMatches")){k("<li class='select2-no-results'>"+ab(l.formatNoMatches,l.element,m.val())+"</li>");return}f.empty();a.opts.populateResults.call(this,f,n.results,{term:m.val(),page:this.resultsPage,context:null});if(n.more===true&&af(l.formatLoadMore,"formatLoadMore")){f.append("<li class='select2-more-results'>"+l.escapeMarkup(ab(l.formatLoadMore,l.element,this.resultsPage))+"</li>");window.setTimeout(function(){a.loadMoreIfNeeded()},10)}this.postprocessResults(n,d);e();this.opts.element.trigger({type:"select2-loaded",items:n})})})},cancel:function(){this.close()},blur:function(){if(this.opts.selectOnBlur){this.selectHighlighted({noFocus:true})}this.close();this.container.removeClass("select2-container-active");if(this.search[0]===document.activeElement){this.search.blur()}this.clearSearch();this.selection.find(".select2-search-choice-focus").removeClass("select2-search-choice-focus")},focusSearch:function(){U(this.search)},selectHighlighted:function(c){if(this._touchMoved){this.clearTouchMoved();return}var d=this.highlight(),b=this.results.find(".select2-highlighted"),a=b.closest(".select2-result").data("select2-data");if(a){this.highlight(d);this.onSelect(a,c)}else{if(c&&c.noFocus){this.close()}}},getPlaceholder:function(){var a;return this.opts.element.attr("placeholder")||this.opts.element.attr("data-placeholder")||this.opts.element.data("placeholder")||this.opts.placeholder||((a=this.getPlaceholderOption())!==ar?a.text():ar)},getPlaceholderOption:function(){if(this.select){var a=this.select.children("option").first();if(this.opts.placeholderOption!==ar){return(this.opts.placeholderOption==="first"&&a)||(typeof this.opts.placeholderOption==="function"&&this.opts.placeholderOption(this.select))}else{if(aa.trim(a.text())===""&&a.val()===""){return a}}}},initContainerWidth:function(){function a(){var d,f,c,e,g,h;if(this.opts.width==="off"){return null}else{if(this.opts.width==="element"){return this.opts.element.outerWidth(false)===0?"auto":this.opts.element.outerWidth(false)+"px"}else{if(this.opts.width==="copy"||this.opts.width==="resolve"){d=this.opts.element.attr("style");if(d!==ar){f=d.split(";");for(e=0,g=f.length;e<g;e=e+1){h=f[e].replace(/\s/g,"");c=h.match(/^width:(([-+]?([0-9]*\.)?[0-9]+)(px|em|ex|%|in|cm|mm|pt|pc))/i);if(c!==null&&c.length>=1){return c[1]}}}if(this.opts.width==="resolve"){d=this.opts.element.css("width");if(d.indexOf("%")>0){return d}return(this.opts.element.outerWidth(false)===0?"auto":this.opts.element.outerWidth(false)+"px")}return null}else{if(aa.isFunction(this.opts.width)){return this.opts.width()}else{return this.opts.width}}}}}var b=a.call(this);if(b!==null){this.container.css("width",b)}}});ag=R(P,{createContainer:function(){var a=aa(document.createElement("div")).attr({"class":"select2-container"}).html(["<a href='javascript:void(0)' class='select2-choice' tabindex='-1'>","   <span class='select2-chosen'>&#160;</span><abbr class='select2-search-choice-close'></abbr>","   <span class='select2-arrow' role='presentation'><b role='presentation'></b></span>","</a>","<label for='' class='select2-offscreen'></label>","<input class='select2-focusser select2-offscreen' type='text' aria-haspopup='true' role='button' />","<div class='select2-drop select2-display-none'>","   <div class='select2-search'>","       <label for='' class='select2-offscreen'></label>","       <input type='text' autocomplete='off' autocorrect='off' autocapitalize='off' spellcheck='false' class='select2-input' role='combobox' aria-expanded='true'","       aria-autocomplete='list' />","   </div>","   <ul class='select2-results' role='listbox'>","   </ul>","</div>"].join(""));return a},enableInterface:function(){if(this.parent.enableInterface.apply(this,arguments)){this.focusser.prop("disabled",!this.isInterfaceEnabled())}},opening:function(){var a,b,c;if(this.opts.minimumResultsForSearch>=0){this.showSearch(true)}this.parent.opening.apply(this,arguments);if(this.showSearchInput!==false){this.search.val(this.focusser.val())}if(this.opts.shouldFocusInput(this)){this.search.focus();a=this.search.get(0);if(a.createTextRange){b=a.createTextRange();b.collapse(false);b.select()}else{if(a.setSelectionRange){c=this.search.val().length;a.setSelectionRange(c,c)}}}if(this.search.val()===""){if(this.nextSearchTerm!=ar){this.search.val(this.nextSearchTerm);this.search.select()}}this.focusser.prop("disabled",true).val("");this.updateResults(true);this.opts.element.trigger(aa.Event("select2-open"))},close:function(){if(!this.opened()){return}this.parent.close.apply(this,arguments);this.focusser.prop("disabled",false);if(this.opts.shouldFocusInput(this)){this.focusser.focus()}},focus:function(){if(this.opened()){this.close()}else{this.focusser.prop("disabled",false);if(this.opts.shouldFocusInput(this)){this.focusser.focus()}}},isFocused:function(){return this.container.hasClass("select2-container-active")},cancel:function(){this.parent.cancel.apply(this,arguments);this.focusser.prop("disabled",false);if(this.opts.shouldFocusInput(this)){this.focusser.focus()}},destroy:function(){aa("label[for='"+this.focusser.attr("id")+"']").attr("for",this.opts.element.attr("id"));this.parent.destroy.apply(this,arguments);Y.call(this,"selection","focusser")},initContainer:function(){var c,f=this.container,a=this.dropdown,b=aE(),d;if(this.opts.minimumResultsForSearch<0){this.showSearch(false)}else{this.showSearch(true)}this.selection=c=f.find(".select2-choice");this.focusser=f.find(".select2-focusser");c.find(".select2-chosen").attr("id","select2-chosen-"+b);this.focusser.attr("aria-labelledby","select2-chosen-"+b);this.results.attr("id","select2-results-"+b);this.search.attr("aria-owns","select2-results-"+b);this.focusser.attr("id","s2id_autogen"+b);d=aa("label[for='"+this.opts.element.attr("id")+"']");this.opts.element.focus(this.bind(function(){this.focus()}));this.focusser.prev().text(d.text()).attr("for",this.focusser.attr("id"));var e=this.opts.element.attr("title");this.opts.element.attr("title",(e||d.text()));this.focusser.attr("tabindex",this.elementTabIndex);this.search.attr("id",this.focusser.attr("id")+"_search");this.search.prev().text(aa("label[for='"+this.focusser.attr("id")+"']").text()).attr("for",this.search.attr("id"));this.search.on("keydown",this.bind(function(g){if(!this.isInterfaceEnabled()){return}if(229==g.keyCode){return}if(g.which===S.PAGE_UP||g.which===S.PAGE_DOWN){ad(g);return}switch(g.which){case S.UP:case S.DOWN:this.moveHighlight((g.which===S.UP)?-1:1);ad(g);return;case S.ENTER:this.selectHighlighted();ad(g);return;case S.TAB:this.selectHighlighted({noFocus:true});return;case S.ESC:this.cancel(g);ad(g);return}}));this.search.on("blur",this.bind(function(g){if(document.activeElement===this.body.get(0)){window.setTimeout(this.bind(function(){if(this.opened()){this.search.focus()}}),0)}}));this.focusser.on("keydown",this.bind(function(g){if(!this.isInterfaceEnabled()){return}if(g.which===S.TAB||S.isControl(g)||S.isFunctionKey(g)||g.which===S.ESC){return}if(this.opts.openOnEnter===false&&g.which===S.ENTER){ad(g);return}if(g.which==S.DOWN||g.which==S.UP||(g.which==S.ENTER&&this.opts.openOnEnter)){if(g.altKey||g.ctrlKey||g.shiftKey||g.metaKey){return}this.open();ad(g);return}if(g.which==S.DELETE||g.which==S.BACKSPACE){if(this.opts.allowClear){this.clear()}ad(g);return}}));X(this.focusser);this.focusser.on("keyup-change input",this.bind(function(g){if(this.opts.minimumResultsForSearch>=0){g.stopPropagation();if(this.opened()){return}this.open()}}));c.on("mousedown touchstart","abbr",this.bind(function(g){if(!this.isInterfaceEnabled()){return}this.clear();aD(g);this.close();if(this.selection){this.selection.focus()}}));c.on("mousedown touchstart",this.bind(function(g){ao(c);if(!this.container.hasClass("select2-container-active")){this.opts.element.trigger(aa.Event("select2-focus"))}if(this.opened()){this.close()}else{if(this.isInterfaceEnabled()){this.open()}}ad(g)}));a.on("mousedown touchstart",this.bind(function(){if(this.opts.shouldFocusInput(this)){this.search.focus()}}));c.on("focus",this.bind(function(g){ad(g)}));this.focusser.on("focus",this.bind(function(){if(!this.container.hasClass("select2-container-active")){this.opts.element.trigger(aa.Event("select2-focus"))}this.container.addClass("select2-container-active")})).on("blur",this.bind(function(){if(!this.opened()){this.container.removeClass("select2-container-active");this.opts.element.trigger(aa.Event("select2-blur"))}}));this.search.on("focus",this.bind(function(){if(!this.container.hasClass("select2-container-active")){this.opts.element.trigger(aa.Event("select2-focus"))}this.container.addClass("select2-container-active")}));this.initContainerWidth();this.opts.element.hide();this.setPlaceholder()},clear:function(b){var a=this.selection.data("select2-data");if(a){var c=aa.Event("select2-clearing");this.opts.element.trigger(c);if(c.isDefaultPrevented()){return}var d=this.getPlaceholderOption();this.opts.element.val(d?d.val():"");this.selection.find(".select2-chosen").empty();this.selection.removeData("select2-data");this.setPlaceholder();if(b!==false){this.opts.element.trigger({type:"select2-removed",val:this.id(a),choice:a});this.triggerChange({removed:a})}}},initSelection:function(){var a;if(this.isPlaceholderOptionSelected()){this.updateSelection(null);this.close();this.setPlaceholder()}else{var b=this;this.opts.initSelection.call(null,this.opts.element,function(c){if(c!==ar&&c!==null){b.updateSelection(c);b.close();b.setPlaceholder();b.nextSearchTerm=b.opts.nextSearchTerm(c,b.search.val())}})}},isPlaceholderOptionSelected:function(){var a;if(this.getPlaceholder()===ar){return false}return((a=this.getPlaceholderOption())!==ar&&a.prop("selected"))||(this.opts.element.val()==="")||(this.opts.element.val()===ar)||(this.opts.element.val()===null)},prepareOpts:function(){var a=this.parent.prepareOpts.apply(this,arguments),b=this;if(a.element.get(0).tagName.toLowerCase()==="select"){a.initSelection=function(e,c){var d=e.find("option").filter(function(){return this.selected&&!this.disabled});c(b.optionToData(d))}}else{if("data" in a){a.initSelection=a.initSelection||function(e,c){var d=e.val();var f=null;a.query({matcher:function(h,i,g){var j=ak(d,a.id(g));if(j){f=g}return j},callback:!aa.isFunction(c)?aa.noop:function(){c(f)}})}}}return a},getPlaceholder:function(){if(this.select){if(this.getPlaceholderOption()===ar){return ar}}return this.parent.getPlaceholder.apply(this,arguments)},setPlaceholder:function(){var a=this.getPlaceholder();if(this.isPlaceholderOptionSelected()&&a!==ar){if(this.select&&this.getPlaceholderOption()===ar){return}this.selection.find(".select2-chosen").html(this.opts.escapeMarkup(a));this.selection.addClass("select2-default");this.container.removeClass("select2-allowclear")}},postprocessResults:function(b,f,c){var d=0,g=this,a=true;this.findHighlightableChoices().each2(function(h,i){if(ak(g.id(i.data("select2-data")),g.opts.element.val())){d=h;return false}});if(c!==false){if(f===true&&d>=0){this.highlight(d)}else{this.highlight(0)}}if(f===true){var e=this.opts.minimumResultsForSearch;if(e>=0){this.showSearch(al(b.results)>=e)}}},showSearch:function(a){if(this.showSearchInput===a){return}this.showSearchInput=a;this.dropdown.find(".select2-search").toggleClass("select2-search-hidden",!a);this.dropdown.find(".select2-search").toggleClass("select2-offscreen",!a);aa(this.dropdown,this.container).toggleClass("select2-with-searchbox",a)},onSelect:function(b,c){if(!this.triggerSelect(b)){return}var d=this.opts.element.val(),a=this.data();this.opts.element.val(this.id(b));this.updateSelection(b);this.opts.element.trigger({type:"select2-selected",val:this.id(b),choice:b});this.nextSearchTerm=this.opts.nextSearchTerm(b,this.search.val());this.close();if((!c||!c.noFocus)&&this.opts.shouldFocusInput(this)){this.focusser.focus()}if(!ak(d,this.id(b))){this.triggerChange({added:b,removed:a})}},updateSelection:function(a){var c=this.selection.find(".select2-chosen"),b,d;this.selection.data("select2-data",a);c.empty();if(a!==null){b=this.opts.formatSelection(a,c,this.opts.escapeMarkup)}if(b!==ar){c.append(b)}d=this.opts.formatSelectionCssClass(a,c);if(d!==ar){c.addClass(d)}this.selection.removeClass("select2-default");if(this.opts.allowClear&&this.getPlaceholder()!==ar){this.container.addClass("select2-allowclear")}},val:function(){var a,d=false,c=null,e=this,b=this.data();if(arguments.length===0){return this.opts.element.val()}a=arguments[0];if(arguments.length>1){d=arguments[1]}if(this.select){this.select.val(a).find("option").filter(function(){return this.selected}).each2(function(g,f){c=e.optionToData(f);return false});this.updateSelection(c);this.setPlaceholder();if(d){this.triggerChange({added:c,removed:b})}}else{if(!a&&a!==0){this.clear(d);return}if(this.opts.initSelection===ar){throw new Error("cannot call val() if initSelection() is not defined")}this.opts.element.val(a);this.opts.initSelection(this.opts.element,function(f){e.opts.element.val(!f?"":e.id(f));e.updateSelection(f);e.setPlaceholder();if(d){e.triggerChange({added:f,removed:b})}})}},clearSearch:function(){this.search.val("");this.focusser.val("")},data:function(a){var b,c=false;if(arguments.length===0){b=this.selection.data("select2-data");if(b==ar){b=null}return b}else{if(arguments.length>1){c=arguments[1]}if(!a){this.clear(c)}else{b=this.data();this.opts.element.val(!a?"":this.id(a));this.updateSelection(a);if(c){this.triggerChange({added:a,removed:b})}}}}});aC=R(P,{createContainer:function(){var a=aa(document.createElement("div")).attr({"class":"select2-container select2-container-multi"}).html(["<ul class='select2-choices'>","  <li class='select2-search-field'>","    <label for='' class='select2-offscreen'></label>","    <input type='text' autocomplete='off' autocorrect='off' autocapitalize='off' spellcheck='false' class='select2-input'>","  </li>","</ul>","<div class='select2-drop select2-drop-multi select2-display-none'>","   <ul class='select2-results'>","   </ul>","</div>"].join(""));return a},prepareOpts:function(){var a=this.parent.prepareOpts.apply(this,arguments),b=this;if(a.element.get(0).tagName.toLowerCase()==="select"){a.initSelection=function(e,c){var d=[];e.find("option").filter(function(){return this.selected&&!this.disabled}).each2(function(g,f){d.push(b.optionToData(f))});c(d)}}else{if("data" in a){a.initSelection=a.initSelection||function(f,c){var e=aw(f.val(),a.separator,a.transformVal);var d=[];a.query({matcher:function(h,i,g){var j=aa.grep(e,function(k){return ak(k,a.id(g))}).length;if(j){d.push(g)}return j},callback:!aa.isFunction(c)?aa.noop:function(){var h=[];for(var j=0;j<e.length;j++){var i=e[j];for(var k=0;k<d.length;k++){var g=d[k];if(ak(i,a.id(g))){h.push(g);d.splice(k,1);break}}}c(h)}})}}}return a},selectChoice:function(b){var a=this.container.find(".select2-search-choice-focus");if(a.length&&b&&b[0]==a[0]){}else{if(a.length){this.opts.element.trigger("choice-deselected",a)}a.removeClass("select2-search-choice-focus");if(b&&b.length){this.close();b.addClass("select2-search-choice-focus");this.opts.element.trigger("choice-selected",b)}}},destroy:function(){aa("label[for='"+this.search.attr("id")+"']").attr("for",this.opts.element.attr("id"));this.parent.destroy.apply(this,arguments);Y.call(this,"searchContainer","selection")},initContainer:function(){var c=".select2-choices",b;this.searchContainer=this.container.find(".select2-search-field");this.selection=b=this.container.find(c);var a=this;this.selection.on("click",".select2-container:not(.select2-container-disabled) .select2-search-choice:not(.select2-locked)",function(d){a.search[0].focus();a.selectChoice(aa(this))});this.search.attr("id","s2id_autogen"+aE());this.search.prev().text(aa("label[for='"+this.opts.element.attr("id")+"']").text()).attr("for",this.search.attr("id"));this.opts.element.focus(this.bind(function(){this.focus()}));this.search.on("input paste",this.bind(function(){if(this.search.attr("placeholder")&&this.search.val().length==0){return}if(!this.isInterfaceEnabled()){return}if(!this.opened()){this.open()}}));this.search.attr("tabindex",this.elementTabIndex);this.keydowns=0;this.search.on("keydown",this.bind(function(d){if(!this.isInterfaceEnabled()){return}++this.keydowns;var f=b.find(".select2-search-choice-focus");var e=f.prev(".select2-search-choice:not(.select2-locked)");var g=f.next(".select2-search-choice:not(.select2-locked)");var i=az(this.search);if(f.length&&(d.which==S.LEFT||d.which==S.RIGHT||d.which==S.BACKSPACE||d.which==S.DELETE||d.which==S.ENTER)){var h=f;if(d.which==S.LEFT&&e.length){h=e}else{if(d.which==S.RIGHT){h=g.length?g:null}else{if(d.which===S.BACKSPACE){if(this.unselect(f.first())){this.search.width(10);h=e.length?e:g}}else{if(d.which==S.DELETE){if(this.unselect(f.first())){this.search.width(10);h=g.length?g:null}}else{if(d.which==S.ENTER){h=null}}}}}this.selectChoice(h);ad(d);if(!h||!h.length){this.open()}return}else{if(((d.which===S.BACKSPACE&&this.keydowns==1)||d.which==S.LEFT)&&(i.offset==0&&!i.length)){this.selectChoice(b.find(".select2-search-choice:not(.select2-locked)").last());ad(d);return}else{this.selectChoice(null)}}if(this.opened()){switch(d.which){case S.UP:case S.DOWN:this.moveHighlight((d.which===S.UP)?-1:1);ad(d);return;case S.ENTER:this.selectHighlighted();ad(d);return;case S.TAB:this.selectHighlighted({noFocus:true});this.close();return;case S.ESC:this.cancel(d);ad(d);return}}if(d.which===S.TAB||S.isControl(d)||S.isFunctionKey(d)||d.which===S.BACKSPACE||d.which===S.ESC){return}if(d.which===S.ENTER){if(this.opts.openOnEnter===false){return}else{if(d.altKey||d.ctrlKey||d.shiftKey||d.metaKey){return}}}this.open();if(d.which===S.PAGE_UP||d.which===S.PAGE_DOWN){ad(d)}if(d.which===S.ENTER){ad(d)}}));this.search.on("keyup",this.bind(function(d){this.keydowns=0;this.resizeSearch()}));this.search.on("blur",this.bind(function(d){this.container.removeClass("select2-container-active");this.search.removeClass("select2-focused");this.selectChoice(null);if(!this.opened()){this.clearSearch()}d.stopImmediatePropagation();this.opts.element.trigger(aa.Event("select2-blur"))}));this.container.on("click",c,this.bind(function(d){if(!this.isInterfaceEnabled()){return}if(aa(d.target).closest(".select2-search-choice").length>0){return}this.selectChoice(null);this.clearPlaceholder();if(!this.container.hasClass("select2-container-active")){this.opts.element.trigger(aa.Event("select2-focus"))}this.open();this.focusSearch();d.preventDefault()}));this.container.on("focus",c,this.bind(function(){if(!this.isInterfaceEnabled()){return}if(!this.container.hasClass("select2-container-active")){this.opts.element.trigger(aa.Event("select2-focus"))}this.container.addClass("select2-container-active");this.dropdown.addClass("select2-drop-active");this.clearPlaceholder()}));this.initContainerWidth();this.opts.element.hide();this.clearSearch()},enableInterface:function(){if(this.parent.enableInterface.apply(this,arguments)){this.search.prop("disabled",!this.isInterfaceEnabled())}},initSelection:function(){var a;if(this.opts.element.val()===""&&this.opts.element.text()===""){this.updateSelection([]);this.close();this.clearSearch()}if(this.select||this.opts.element.val()!==""){var b=this;this.opts.initSelection.call(null,this.opts.element,function(c){if(c!==ar&&c!==null){b.updateSelection(c);b.close();b.clearSearch()}})}},clearSearch:function(){var a=this.getPlaceholder(),b=this.getMaxSearchWidth();if(a!==ar&&this.getVal().length===0&&this.search.hasClass("select2-focused")===false){this.search.val(a).addClass("select2-default");this.search.width(b>0?b:this.container.css("width"))}else{this.search.val("").width(10)}},clearPlaceholder:function(){if(this.search.hasClass("select2-default")){this.search.val("").removeClass("select2-default")}},opening:function(){this.clearPlaceholder();this.resizeSearch();this.parent.opening.apply(this,arguments);this.focusSearch();if(this.search.val()===""){if(this.nextSearchTerm!=ar){this.search.val(this.nextSearchTerm);this.search.select()}}this.updateResults(true);if(this.opts.shouldFocusInput(this)){this.search.focus()}this.opts.element.trigger(aa.Event("select2-open"))},close:function(){if(!this.opened()){return}this.parent.close.apply(this,arguments)},focus:function(){this.close();this.search.focus()},isFocused:function(){return this.search.hasClass("select2-focused")},updateSelection:function(a){var b=[],c=[],d=this;aa(a).each(function(){if(am(d.id(this),b)<0){b.push(d.id(this));c.push(this)}});a=c;this.selection.find(".select2-search-choice").remove();aa(a).each(function(){d.addSelectedChoice(this)});d.postprocessResults()},tokenize:function(){var a=this.search.val();a=this.opts.tokenizer.call(this,a,this.data(),this.bind(this.onSelect),this.opts);if(a!=null&&a!=ar){this.search.val(a);if(a.length>0){this.open()}}},onSelect:function(a,b){if(!this.triggerSelect(a)||a.text===""){return}this.addSelectedChoice(a);this.opts.element.trigger({type:"selected",val:this.id(a),choice:a});this.nextSearchTerm=this.opts.nextSearchTerm(a,this.search.val());this.clearSearch();this.updateResults();if(this.select||!this.opts.closeOnSelect){this.postprocessResults(a,false,this.opts.closeOnSelect===true)}if(this.opts.closeOnSelect){this.close();this.search.width(10)}else{if(this.countSelectableResults()>0){this.search.width(10);this.resizeSearch();if(this.getMaximumSelectionSize()>0&&this.val().length>=this.getMaximumSelectionSize()){this.updateResults(true)}else{if(this.nextSearchTerm!=ar){this.search.val(this.nextSearchTerm);this.updateResults();this.search.select()}}this.positionDropdown()}else{this.close();this.search.width(10)}}this.triggerChange({added:a});if(!b||!b.noFocus){this.focusSearch()}},cancel:function(){this.close();this.focusSearch()},addSelectedChoice:function(e){var c=!e.locked,g=aa("<li class='select2-search-choice'>    <div></div>    <a href='#' class='select2-search-choice-close' tabindex='-1'></a></li>"),b=aa("<li class='select2-search-choice select2-locked'><div></div></li>");var f=c?g:b,i=this.id(e),h=this.getVal(),d,a;d=this.opts.formatSelection(e,f.find("div"),this.opts.escapeMarkup);if(d!=ar){f.find("div").replaceWith(aa("<div></div>").html(d))}a=this.opts.formatSelectionCssClass(e,f.find("div"));if(a!=ar){f.addClass(a)}if(c){f.find(".select2-search-choice-close").on("mousedown",ad).on("click dblclick",this.bind(function(j){if(!this.isInterfaceEnabled()){return}this.unselect(aa(j.target));this.selection.find(".select2-search-choice-focus").removeClass("select2-search-choice-focus");ad(j);this.close();this.focusSearch()})).on("focus",this.bind(function(){if(!this.isInterfaceEnabled()){return}this.container.addClass("select2-container-active");this.dropdown.addClass("select2-drop-active")}))}f.data("select2-data",e);f.insertBefore(this.searchContainer);h.push(i);this.setVal(h)},unselect:function(c){var a=this.getVal(),b,d;c=c.closest(".select2-search-choice");if(c.length===0){throw"Invalid argument: "+c+". Must be .select2-search-choice"}b=c.data("select2-data");if(!b){return}var e=aa.Event("select2-removing");e.val=this.id(b);e.choice=b;this.opts.element.trigger(e);if(e.isDefaultPrevented()){return false}while((d=am(this.id(b),a))>=0){a.splice(d,1);this.setVal(a);if(this.select){this.postprocessResults()}}c.remove();this.opts.element.trigger({type:"select2-removed",val:this.id(b),choice:b});this.triggerChange({removed:b});return true},postprocessResults:function(c,f,d){var b=this.getVal(),a=this.results.find(".select2-result"),e=this.results.find(".select2-result-with-children"),g=this;a.each2(function(j,h){var i=g.id(h.data("select2-data"));if(am(i,b)>=0){h.addClass("select2-selected");h.find(".select2-result-selectable").addClass("select2-selected")}});e.each2(function(i,h){if(!h.is(".select2-result-selectable")&&h.find(".select2-result-selectable:not(.select2-selected)").length===0){h.addClass("select2-selected")}});if(this.highlight()==-1&&d!==false&&this.opts.closeOnSelect===true){g.highlight(0)}if(!this.opts.createSearchChoice&&!a.filter(".select2-result:not(.select2-selected)").length>0){if(!c||c&&!c.more&&this.results.find(".select2-no-results").length===0){if(af(g.opts.formatNoMatches,"formatNoMatches")){this.results.append("<li class='select2-no-results'>"+ab(g.opts.formatNoMatches,g.opts.element,g.search.val())+"</li>")}}}},getMaxSearchWidth:function(){return this.selection.width()-ax(this.search)},resizeSearch:function(){var a,c,d,f,e,b=ax(this.search);a=aq(this.search)+10;c=this.search.offset().left;d=this.selection.width();f=this.selection.offset().left;e=d-(c-f)-b;if(e<a){e=d-b}if(e<40){e=d-b}if(e<=0){e=a}this.search.width(Math.floor(e))},getVal:function(){var a;if(this.select){a=this.select.val();return a===null?[]:a}else{a=this.opts.element.val();return aw(a,this.opts.separator,this.opts.transformVal)}},setVal:function(a){var b;if(this.select){this.select.val(a)}else{b=[];aa(a).each(function(){if(am(this,b)<0){b.push(this)}});this.opts.element.val(b.length===0?"":b.join(this.opts.separator))}},buildChangeDetails:function(d,a){var a=a.slice(0),d=d.slice(0);for(var b=0;b<a.length;b++){for(var c=0;c<d.length;c++){if(ak(this.opts.id(a[b]),this.opts.id(d[c]))){a.splice(b,1);if(b>0){b--}d.splice(c,1);c--}}}return{added:a,removed:d}},val:function(a,c){var b,d=this;if(arguments.length===0){return this.getVal()}b=this.data();if(!b.length){b=[]}if(!a&&a!==0){this.opts.element.val("");this.updateSelection([]);this.clearSearch();if(c){this.triggerChange({added:this.data(),removed:b})}return}this.setVal(a);if(this.select){this.opts.initSelection(this.select,this.bind(this.updateSelection));if(c){this.triggerChange(this.buildChangeDetails(b,this.data()))}}else{if(this.opts.initSelection===ar){throw new Error("val() cannot be called if initSelection() is not defined")}this.opts.initSelection(this.opts.element,function(e){var f=aa.map(e,d.id);d.setVal(f);d.updateSelection(e);d.clearSearch();if(c){d.triggerChange(d.buildChangeDetails(b,d.data()))}})}this.clearSearch()},onSortStart:function(){if(this.select){throw new Error("Sorting of elements is not supported when attached to <select>. Attach to <input type='hidden'/> instead.")}this.search.width(0);this.searchContainer.hide()},onSortEnd:function(){var a=[],b=this;this.searchContainer.show();this.searchContainer.appendTo(this.searchContainer.parent());this.resizeSearch();this.selection.find(".select2-search-choice").each(function(){a.push(b.opts.id(aa(this).data("select2-data")))});this.setVal(a);this.triggerChange()},data:function(c,b){var d=this,a,e;if(arguments.length===0){return this.selection.children(".select2-search-choice").map(function(){return aa(this).data("select2-data")}).get()}else{e=this.data();if(!c){c=[]}a=aa.map(c,function(f){return d.opts.id(f)});this.setVal(a);this.updateSelection(c);this.clearSearch();if(b){this.triggerChange(this.buildChangeDetails(e,this.data()))}}}});aa.fn.select2=function(){var e=Array.prototype.slice.call(arguments,0),i,f,j,c,a,b=["val","destroy","opened","open","close","focus","isFocused","container","dropdown","onSortStart","onSortEnd","enable","disable","readonly","positionDropdown","data","search"],d=["opened","isFocused","container","dropdown"],h=["val","data"],g={search:"externalSearch"};this.each(function(){if(e.length===0||typeof(e[0])==="object"){i=e.length===0?{}:aa.extend({},e[0]);i.element=aa(this);if(i.element.get(0).tagName.toLowerCase()==="select"){a=i.element.prop("multiple")}else{a=i.multiple||false;if("tags" in i){i.multiple=a=true}}f=a?new window.Select2["class"].multi():new window.Select2["class"].single();f.init(i)}else{if(typeof(e[0])==="string"){if(am(e[0],b)<0){throw"Unknown method: "+e[0]}c=ar;f=aa(this).data("select2");if(f===ar){return}j=e[0];if(j==="container"){c=f.container}else{if(j==="dropdown"){c=f.dropdown}else{if(g[j]){j=g[j]}c=f[j].apply(f,e.slice(1))}}if(am(e[0],d)>=0||(am(e[0],h)>=0&&e.length==1)){return false}}else{throw"Invalid arguments to select2 plugin: "+e}}});return(c===ar)?this:c};aa.fn.select2.defaults={width:"copy",loadMorePadding:0,closeOnSelect:true,openOnEnter:true,containerCss:{},dropdownCss:{},containerCssClass:"",dropdownCssClass:"",formatResult:function(d,c,a,e){var b=[];aj(this.text(d),a.term,b,e);return b.join("")},transformVal:function(a){return aa.trim(a)},formatSelection:function(a,b,c){return a?c(this.text(a)):ar},sortResults:function(b,c,a){return b},formatResultCssClass:function(a){return a.css},formatSelectionCssClass:function(a,b){return ar},minimumResultsForSearch:0,minimumInputLength:0,maximumInputLength:null,maximumSelectionSize:0,id:function(a){return a==ar?null:a.id},text:function(a){if(a&&this.data&&this.data.text){if(aa.isFunction(this.data.text)){return this.data.text(a)}else{return a[this.data.text]}}else{return a.text}},matcher:function(b,a){return aA(""+a).toUpperCase().indexOf(aA(""+b).toUpperCase())>=0},separator:",",tokenSeparators:[],tokenizer:ay,escapeMarkup:W,blurOnChange:false,selectOnBlur:false,adaptContainerCssClass:function(a){return a},adaptDropdownCssClass:function(a){return null},nextSearchTerm:function(b,a){return ar},searchInputPlaceholder:"",createSearchChoicePosition:"top",shouldFocusInput:function(b){var a=(("ontouchstart" in window)||(navigator.msMaxTouchPoints>0));if(!a){return true}if(b.opts.minimumResultsForSearch<0){return false}return true}};aa.fn.select2.locales=[];aa.fn.select2.locales.en={formatMatches:function(a){if(a===1){return"One result is available, press enter to select it."}return a+" results are available, use up and down arrow keys to navigate."},formatNoMatches:function(){return"No matches found"},formatAjaxError:function(c,a,b){return"Loading failed"},formatInputTooShort:function(c,b){var a=b-c.length;return"Please enter "+a+" or more character"+(a==1?"":"s")},formatInputTooLong:function(b,c){var a=b.length-c;return"Please delete "+a+" character"+(a==1?"":"s")},formatSelectionTooBig:function(a){return"You can only select "+a+" item"+(a==1?"":"s")},formatLoadMore:function(a){return"Loading more results…"},formatSearching:function(){return"Searching…"}};aa.extend(aa.fn.select2.defaults,aa.fn.select2.locales.en);aa.fn.select2.ajaxDefaults={transport:aa.ajax,params:{type:"GET",cache:false,dataType:"json"}};window.Select2={query:{ajax:Z,local:V,tags:ae},util:{debounce:au,markMatch:aj,escapeMarkup:W,stripDiacritics:aA},"class":{"abstract":P,single:ag,multi:aC}}}(jQuery));