var WPMailSMTP=window.WPMailSMTP||{};WPMailSMTP.Admin=WPMailSMTP.Admin||{};WPMailSMTP.Admin.About=WPMailSMTP.Admin.About||(function(b,c,d){var a={};var e={init:function(){d(b).ready(e.ready)},ready:function(){e.pageHolder=d(".wp-mail-smtp-page-about");e.bindActions();d(".wp-mail-smtp-page").trigger("WPMailSMTP.Admin.About.ready")},bindActions:function(){jQuery(".wp-mail-smtp-admin-about-plugins .plugin-item .details").matchHeight();d(b).on("click",".wp-mail-smtp-admin-about-plugins .plugin-item .action-button .button",function(m){m.preventDefault();var n=d(this);if(n.hasClass("disabled")||n.hasClass("loading")){return false}var f=n.closest(".plugin-item"),k=n.attr("data-plugin"),g,p,h,o,l,i;n.prop("disabled",true).addClass("loading");n.text(wp_mail_smtp_about.plugin_processing);if(n.hasClass("status-inactive")){g="about_plugin_activate";p="status-active button button-secondary disabled";h=wp_mail_smtp_about.plugin_active;o=wp_mail_smtp_about.plugin_activated;l=wp_mail_smtp_about.plugin_activate}else{if(n.hasClass("status-download")){g="about_plugin_install";p="status-active button disabled";h=wp_mail_smtp_about.plugin_active;o=wp_mail_smtp_about.plugin_activated;l=wp_mail_smtp_about.plugin_activate}else{return}}var j={action:"wp_mail_smtp_ajax",task:g,nonce:wp_mail_smtp_about.nonce,plugin:k};d.post(wp_mail_smtp_about.ajax_url,j,function(r){var q;if(r.success){q=true;if("about_plugin_install"===g){n.attr("data-plugin",r.data.basename);i=r.data.msg;if(!r.data.is_activated){p="button";h=wp_mail_smtp_about.plugin_inactive;o=wp_mail_smtp_about.plugin_activate}}else{i=r.data}f.find(".actions").append('<div class="msg success">'+i+"</div>");f.find("span.status-label").removeClass("status-active status-inactive status-download").addClass(p).removeClass("button button-primary button-secondary disabled").text(h);n.removeClass("status-active status-inactive status-download").removeClass("button button-primary button-secondary disabled").addClass(p).html(o)}else{q=false;if(r.hasOwnProperty("data")&&r.data.hasOwnProperty(0)&&r.data[0].hasOwnProperty("code")&&r.data[0].code==="download_failed"){f.find(".actions").append('<div class="msg error">'+wp_mail_smtp_about.plugin_install_error+"</div>")}else{f.find(".actions").append('<div class="msg error">'+r.data+"</div>")}n.html(wp_mail_smtp_about.plugin_download_btn)}if(q){n.prop("disabled",false)}n.removeClass("loading");setTimeout(function(){d(".plugin-item .msg").remove()},3000)}).fail(function(q){console.log(q.responseText)})})}};return e})(document,window,jQuery);WPMailSMTP.Admin.About.init();