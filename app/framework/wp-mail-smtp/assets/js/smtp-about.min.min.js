var WPMailSMTP=window.WPMailSMTP||{};WPMailSMTP.Admin=WPMailSMTP.Admin||{};WPMailSMTP.Admin.About=WPMailSMTP.Admin.About||(function(f,j,i){var g={};var h={init:function(){i(f).ready(h.ready)},ready:function(){h.pageHolder=i(".wp-mail-smtp-page-about");h.bindActions();i(".wp-mail-smtp-page").trigger("WPMailSMTP.Admin.About.ready")},bindActions:function(){jQuery(".wp-mail-smtp-admin-about-plugins .plugin-item .details").matchHeight();i(f).on("click",".wp-mail-smtp-admin-about-plugins .plugin-item .action-button .button",function(d){d.preventDefault();var c=i(this);if(c.hasClass("disabled")||c.hasClass("loading")){return false}var v=c.closest(".plugin-item"),q=c.attr("data-plugin"),u,a,t,b,e,s;c.prop("disabled",true).addClass("loading");c.text(wp_mail_smtp_about.plugin_processing);if(c.hasClass("status-inactive")){u="about_plugin_activate";a="status-active button button-secondary disabled";t=wp_mail_smtp_about.plugin_active;b=wp_mail_smtp_about.plugin_activated;e=wp_mail_smtp_about.plugin_activate}else{if(c.hasClass("status-download")){u="about_plugin_install";a="status-active button disabled";t=wp_mail_smtp_about.plugin_active;b=wp_mail_smtp_about.plugin_activated;e=wp_mail_smtp_about.plugin_activate}else{return}}var r={action:"wp_mail_smtp_ajax",task:u,nonce:wp_mail_smtp_about.nonce,plugin:q};i.post(wp_mail_smtp_about.ajax_url,r,function(k){var l;if(k.success){l=true;if("about_plugin_install"===u){c.attr("data-plugin",k.data.basename);s=k.data.msg;if(!k.data.is_activated){a="button";t=wp_mail_smtp_about.plugin_inactive;b=wp_mail_smtp_about.plugin_activate}}else{s=k.data}v.find(".actions").append('<div class="msg success">'+s+"</div>");v.find("span.status-label").removeClass("status-active status-inactive status-download").addClass(a).removeClass("button button-primary button-secondary disabled").text(t);c.removeClass("status-active status-inactive status-download").removeClass("button button-primary button-secondary disabled").addClass(a).html(b)}else{l=false;if(k.hasOwnProperty("data")&&k.data.hasOwnProperty(0)&&k.data[0].hasOwnProperty("code")&&k.data[0].code==="download_failed"){v.find(".actions").append('<div class="msg error">'+wp_mail_smtp_about.plugin_install_error+"</div>")}else{v.find(".actions").append('<div class="msg error">'+k.data+"</div>")}c.html(wp_mail_smtp_about.plugin_download_btn)}if(l){c.prop("disabled",false)}c.removeClass("loading");setTimeout(function(){i(".plugin-item .msg").remove()},3000)}).fail(function(k){console.log(k.responseText)})})}};return h})(document,window,jQuery);WPMailSMTP.Admin.About.init();