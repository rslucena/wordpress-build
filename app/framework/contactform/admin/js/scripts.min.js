(function(a){if(typeof wpcf7==="undefined"||wpcf7===null){return}a(function(){var c=a("#welcome-panel");var b;b=function(d){a.post(ajaxurl,{action:"wpcf7-update-welcome-panel",visible:d,welcomepanelnonce:a("#welcomepanelnonce").val()})};a("a.welcome-panel-close",c).click(function(d){d.preventDefault();c.addClass("hidden");b(0)});a("#contact-form-editor").tabs({active:wpcf7.activeTab,activate:function(d,e){a("#active-tab").val(e.newTab.index())}});a("#contact-form-editor-tabs").focusin(function(d){a("#contact-form-editor .keyboard-interaction").css("visibility","visible")}).focusout(function(d){a("#contact-form-editor .keyboard-interaction").css("visibility","hidden")});wpcf7.toggleMail2("input:checkbox.toggle-form-table");a("input:checkbox.toggle-form-table").click(function(d){wpcf7.toggleMail2(this)});if(""===a("#title").val()){a("#title").focus()}wpcf7.titleHint();a(".contact-form-editor-box-mail span.mailtag").click(function(e){var d=document.createRange();d.selectNodeContents(this);window.getSelection().addRange(d)});wpcf7.updateConfigErrors();a("[data-config-field]").change(function(){var d=a("#post_ID").val();if(!d||-1==d){return}var e=[];a(this).closest("form").find("[data-config-field]").each(function(){e.push({name:a(this).attr("name").replace(/^wpcf7-/,"").replace(/-/g,"_"),value:a(this).val()})});e.push({name:"context",value:"dry-run"});a.ajax({method:"POST",url:wpcf7.apiSettings.getRoute("/contact-forms/"+d),beforeSend:function(f){f.setRequestHeader("X-WP-Nonce",wpcf7.apiSettings.nonce)},data:e}).done(function(f){wpcf7.configValidator.errors=f.config_errors;wpcf7.updateConfigErrors()})});a(window).on("beforeunload",function(d){var e=false;a('#wpcf7-admin-form-element :input[type!="hidden"]').each(function(){if(a(this).is(":checkbox, :radio")){if(this.defaultChecked!=a(this).is(":checked")){e=true}}else{if(a(this).is("select")){a(this).find("option").each(function(){if(this.defaultSelected!=a(this).is(":selected")){e=true}})}else{if(this.defaultValue!=a(this).val()){e=true}}}});if(e){d.returnValue=wpcf7.saveAlert;return wpcf7.saveAlert}});a("#wpcf7-admin-form-element").submit(function(){if("copy"!=this.action.value){a(window).off("beforeunload")}if("save"==this.action.value){a("#publishing-action .spinner").addClass("is-active")}})});wpcf7.toggleMail2=function(c){var b=a(c);var d=a("fieldset",b.closest(".contact-form-editor-box-mail"));if(b.is(":checked")){d.removeClass("hidden")}else{d.addClass("hidden")}};wpcf7.updateConfigErrors=function(){var d=wpcf7.configValidator.errors;var c={total:0};a("[data-config-field]").each(function(){a(this).removeAttr("aria-invalid");a(this).next("ul.config-error").remove();var f=a(this).attr("data-config-field");if(d[f]){var e=a("<ul></ul>").attr({role:"alert","class":"config-error"});a.each(d[f],function(g,j){var k=a("<li></li>").append(wpcf7.iconInCircle("!")).append(a('<span class="screen-reader-text"></span>').text(wpcf7.configValidator.iconAlt)).append(" ");if(j.link){k.append(a("<a></a>").attr("href",j.link).text(j.message))}else{k.text(j.message)}k.appendTo(e);var h=f.replace(/^mail_\d+\./,"mail.").replace(/\..*$/,"");if(!c[h]){c[h]=0}c[h]+=1;c.total+=1});a(this).after(e).attr({"aria-invalid":"true"})}});a("#contact-form-editor-tabs > li").each(function(){var f=a(this);f.find(".icon-in-circle").remove();var g=f.attr("id").replace(/-panel-tab$/,"");a.each(d,function(i,k){i=i.replace(/^mail_\d+\./,"mail.");if(i.replace(/\..*$/,"")==g.replace("-","_")){var j=wpcf7.iconInCircle("!");f.find("a.ui-tabs-anchor").first().append(j);return false}});var h=a("#"+g+"-panel > div.config-error:first");h.empty();if(c[g.replace("-","_")]){h.append(wpcf7.iconInCircle("!"));if(1<c[g.replace("-","_")]){var e=wpcf7.configValidator.manyErrorsInTab.replace("%d",c[g.replace("-","_")]);h.append(e)}else{h.append(wpcf7.configValidator.oneErrorInTab)}}});a("#misc-publishing-actions .misc-pub-section.config-error").remove();if(c.total){var b=a("<div></div>").addClass("misc-pub-section config-error").append(wpcf7.iconInCircle("!"));if(1<c.total){b.append(wpcf7.configValidator.manyErrors.replace("%d",c.total))}else{b.append(wpcf7.configValidator.oneError)}b.append("<br />").append(a("<a></a>").attr("href",wpcf7.configValidator.docUrl).text(wpcf7.configValidator.howToCorrect));a("#misc-publishing-actions").append(b)}};wpcf7.titleHint=function(){var c=a("#title");var b=a("#title-prompt-text");if(""===c.val()){b.removeClass("screen-reader-text")}b.click(function(){a(this).addClass("screen-reader-text");c.focus()});c.blur(function(){if(""===a(this).val()){b.removeClass("screen-reader-text")}}).focus(function(){b.addClass("screen-reader-text")}).keydown(function(d){b.addClass("screen-reader-text");a(this).unbind(d)})};wpcf7.iconInCircle=function(c){var b=a('<span class="icon-in-circle" aria-hidden="true"></span>');return b.text(c)};wpcf7.apiSettings.getRoute=function(c){var b=wpcf7.apiSettings.root;b=b.replace(wpcf7.apiSettings.namespace,wpcf7.apiSettings.namespace+c);return b}})(jQuery);